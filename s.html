<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" href="mystyle.css">
</head>
<body>
    <h2>Students</h2>
    <div id="students"></div>
    <button onclick="showstudentstable()">show People</button>
    <button onclick="hidepeople()">Hide</button>
    <button onclick="sortpeople()">Sort by Name</button>
    <button onclick="sortcountry()">Sort by Country</button>
    <button onclick="sortage()">Sort by Age</button>    
    <button on onclick="sortindia()">INDIA</button>
    <button onclick="sortusa()">USA</button>
    <button onclick  ="sortfrance()">FRANCE</button>
    <button onclick  ="styleage()">Style by Age</button>
    <button onclick  ="stylecountry()">Style by Country</button>
   
    
<script> 
    let countrycol=false;
 
    let students=[{"name":"Jack","country":"USA","age":35},{"name":"Amit","country":"India","age":38},{"name":"Edward","country":"USA","age":41},{"name":"Vishal","country":"India","age":30},{"name":"Annie","country":"USA","age":27},{"name":"Nick","country":"France","age":32},{"name":"Francis","country":"France","age":44},{"name":"Preeti","country":"India","age":25},{"name":"Sophie","country":"France","age":29},{"name":"Harpreet","country":"India","age":48},{"name":"Bob","country":"USA","age":21},]
    function showstudentstable(){
    const arr1=students.map(function(ele){
            let str="<tr>";
            str+="<td   class=\'td1  "+country(ele.country)+"\'>"+ele.name+"</td>";
            str+="<td class=\'td1 "+country(ele.country)+"\'>"+ele.country+"</td>";
            str+="<td class=\'td1 "+age(ele.age)+"\'>"+ele.age+"</td>";
         str+='<td> <button class=\'But1\'onclick=\'remove("'+ele.name+'")\'> Remove</button</td>';
          str+='<td> <button class=\'Button\'onclick=\'addage("'+ele.name+'")\'> Add</button</td>';
            str+="</tr>";

            return str
        })
        let header="<tr>"
        header+="<th class=\'th1\' onclick=\'sort(0)\' >Name</th>";
        header+="<th class=\'th1\' onclick=\'sort(1)\'>Country</th>";
        header+="<th class=\'th1\' onclick=\'sort(2)\'>Age</th>";
         header+="<th class=\'th1\'>Remove</th>";
          header+="<th class=\'th1\'>Remove</th>";
        header+="</tr>"
        let html ='<table class=\'table\'>'+header+arr1.join("")+'</table>';
        let element=document.getElementById("students");
        element.innerHTML= html;
}
function remove(name){
    let index=students.findIndex(function(s){
        return s.name==name
    })
    students.splice(index,1)
    showstudentstable(); 

}
function addage(name){
     let val=students.find(function(s){
        if(s.name==name)
          return s.age=s.age+1  
    })
     
    showstudentstable()
}

function sort(index){
    if(index==0)
        return students.sort(sortname)
    else if(index==1)
        return students.sort(countryname)
    else
        return students.sort(agesort)
    showstudentstable();
}
function hidepeople(){
    let element=document.getElementById("students");
        element.innerHTML= "";

}
function sortpeople(){
    students.sort(sortname);
   showstudentstable();
}
function sortname(s1,s2){
    return s1.name.localeCompare(s2.name)

}
function sortcountry(){
    students.sort(countryname);
    showstudentstable();
}
function countryname(s1,s2){
    return s1.country.localeCompare(s2.country)
}
function sortage(){
    students.sort(agesort);
    showstudentstable();
}
function agesort(s1,s2){
    if(s1.age>s2.age)
        return 1
    else if(s1.age<s2.age)
        return -1;
    else
        return 0
}
function sortindia(){
    let filter=students.filter(function(element){
        if(element.country=="India")
            return element
        
    })
    const arr1=filter.map(function(ele){
         let str="<tr>";
            str+="<td  class=\'td1\'>"+ele.name+"</td>";
            str+="<td class=\'td1\'>"+ele.country+"</td>";
            str+="<td class=\'td1\'>"+ele.age+"</td>";
            str+="</tr>";

            return str
        })
        let header="<tr>"
        header+="<th class=\'th1\'  >Name</th>";
        header+="<th class=\'th1\' >Country</th>";
        header+="<th class=\'th1\' >Age</th>";
       
        header+="</tr>"
        let html ='<table class=\'table\'>'+header+arr1.join("")+'</table>';
        let element=document.getElementById("students");
        element.innerHTML= html;
}
function sortfrance(){
    let filter=students.filter(function(element){
        if(element.country=="France")
            return element
        
    })
    const arr1=filter.map(function(ele){
         let str="<tr>";
            str+="<td  class=\'td1\'>"+ele.name+"</td>";
            str+="<td class=\'td1\'>"+ele.country+"</td>";
            str+="<td class=\'td1\'>"+ele.age+"</td>";
         
            str+="</tr>";

            return str
        })
        let header="<tr>"
        header+="<th class=\'th1\'  >Name</th>";
        header+="<th class=\'th1\' >Country</th>";
        header+="<th class=\'th1\' >Age</th>";
        header+="</tr>"
        let html ='<table class=\'table\'>'+header+arr1.join("")+'</table>';
        let element=document.getElementById("students");
        element.innerHTML= html;
}function sortusa(){
    let filter=students.filter(function(element){
        if(element.country=="USA")
            return element
        
    })
    const arr1=filter.map(function(ele){
         let str="<tr>";
            str+="<td  class=\'td1\'>"+ele.name+"</td>";
            str+="<td class=\'td1\'>"+ele.country+"</td>";
            str+="<td class=\'td1\'>"+ele.age+"</td>";
         
            str+="</tr>";

            return str
        })
        let header="<tr>"
        header+="<th class=\'th1\'  >Name</th>";
        header+="<th class=\'th1\' >Country</th>";
        header+="<th class=\'th1\' >Age</th>";
        header+="</tr>"
        let html ='<table class=\'table\'>'+header+arr1.join("")+'</table>';
        let element=document.getElementById("students");
        element.innerHTML= html;
}
function age(ag){
        if(ag<=30 && countrycol)
            return "Button1"

        else if(ag<=40 &&countrycol)
            return "Button2"
        else if(ag>40 && countrycol)
            return "Button"

    }
    function styleage(){
        countrycol=true
        showstudentstable();
    }
    function country(name){
        if(name=="India" && countrycol)
            return "But1"

        else if(name=="USA" &&countrycol)
            return "But2"
        else if(name=="France" && countrycol)
            return "But3"

    }
    function stylecountry(){
        countrycol=true
        showstudentstable();
    }











</script>

</body>
</html>

